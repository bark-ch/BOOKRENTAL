CREATE TABLE BOOK 
(
  BOOK_SEQ	INTEGER NOT NULL,
  BOOK_TITLE	VARCHAR(100) CHARACTER SET UTF8 NOT NULL,
  BOOK_ISBN	CHAR(13),
  BOOK_AUTHOR	VARCHAR(30) CHARACTER SET UTF8 NOT NULL,
  BOOK_PRICE	INTEGER,
  BOOK_LINK	VARCHAR(255) CHARACTER SET UTF8,
  BOOK_RENT_YN	CHAR(1) DEFAULT 'N',
  BOOK_IMAGE	BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  BOOK_DESCRIPTION	BLOB SUB_TYPE TEXT SEGMENT SIZE 80 CHARACTER SET UTF8,
CONSTRAINT BOOK_SEQ_PK PRIMARY KEY (BOOK_SEQ)
);

CREATE GENERATOR BOOK_SEQ_GEN;

CREATE TRIGGER SET_BOOK_SEQ FOR BOOK 
ACTIVE BEFORE INSERT POSITION 0 as
begin
     new.BOOK_SEQ = gen_id(BOOK_SEQ_GEN, 1);
end;

DROP TRIGGER SET_USER_SEQ;
DROP GENERATOR USER_SEQ_GEN;
DROP TABLE USERS;


CREATE TABLE USERS
(
  USER_SEQ	INTEGER NOT NULL,
  USER_NAME	VARCHAR(30) CHARACTER SET UTF8 NOT NULL,
  USER_BIRTH	DATE,
  USER_SEX	CHAR(1),
  USER_PHONE	VARCHAR(15),
  USER_MAIL	VARCHAR(255) CHARACTER SET UTF8,
  USER_IMAGE	BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  USER_REG_DATE	DATE,
  USER_OUT_YN	CHAR(1) DEFAULT 'N',
  USER_OUT_DATE	DATE,
CONSTRAINT USER_SEQ_PK PRIMARY KEY (USER_SEQ)
);

CREATE GENERATOR USER_SEQ_GEN;

CREATE TRIGGER SET_USER_SEQ FOR USERS 
ACTIVE BEFORE INSERT POSITION 0 as
begin
     new.USER_SEQ = gen_id(USER_SEQ_GEN, 1);
end;


